<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Matt O'Brien (dot) Me</title>
    <meta name="description" content="">
    <meta name="author" content="Matt O'Brien">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://www.mattobrien.me/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.no-icons.min.css" rel="stylesheet">
    <link href="http://www.mattobrien.me/theme/local.css" rel="stylesheet">
    <link href="http://www.mattobrien.me/theme/pygments.css" rel="stylesheet">
    <link href="http://www.mattobrien.me/theme/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Gudea:400,400italic|Alegreya+SC' rel='stylesheet' type='text/css'>
</head>

<body>
<header class="blog-header">
  <div class="container">
    <div class="row-fluid">
      <div class="span9">
	<a href="http://www.mattobrien.me" class="brand">Matt O'Brien (dot) Me</a>
      </div>

      <div class="span3" id="blog-nav">
	<ul class="nav nav-pills pull-right">
	    <li >
	      <a href="http://www.mattobrien.me/category/deep-learning.html ">deep learning</a>
	    <li >
	      <a href="http://www.mattobrien.me/category/math.html ">math</a>
	    <li >
	      <a href="http://www.mattobrien.me/category/python.html ">python</a>
	    <li >
	      <a href="http://www.mattobrien.me/category/r.html ">R</a>
	    <li >
	      <a href="http://www.mattobrien.me/category/sport.html ">sport</a>
	    <li >
	      <a href="http://www.mattobrien.me/category/visualization.html ">visualization</a>
	</ul>
      </div>
    </div> <!-- End of fluid row-->
  </div>   <!-- End of Container-->
</header>
    
<div class="container">
    <div class="content">
    <div class="row-fluid">

        <div class="span10">
        

        

    <div class='row-fluid''>
        <div class="article-title span9">
            <a href="http://www.mattobrien.me/deep-learning-for-sport-wagering-part-3-of-3.html"><h1>Deep Learning for Sport Wagering Part 3 of 3</h1></a>
        </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Mon 09 October 2017 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/deep-learning.html">deep learning</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/deep-learning.html">deep learning</a> <a href="http://www.mattobrien.me/tag/sport.html">sport</a> <a href="http://www.mattobrien.me/tag/wagering.html">wagering</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="article-content span8">
	<h4>Part 3: Predicting</h4>
<p>I considered two major betting strategies during this final phase of the project. They are as follows:  </p>
<p>1) If <br>
model probability &gt; some decision threshold, and<br>
model probability &gt; sportsbook probability<br>
then place bet  </p>
<p>2) If model probability &gt; some decision threshold
then place bet</p>
<p>The first strategy is a more conservative approach in one sense. With this perspective, we care if we feel like we have an edge on the casino or sportsbook. </p>
<p>Allow me a quick foray into the structure of gambling. Sportsbook odds are set, not by information, but by popular sentiment. If some Boxer A is favored by the public, then the sportsbook will consider Boxer A to be more likely to win. Thus, my model is attempting to answer the question, "When does prediction based on historic data result in a confidence higher than the confidence represented by public perception?".</p>
<p>This first strategy also has a built in safeguard. If the sportsbook places some Boxer A at a 10% chance of winning, and the model predicts an 11% chance of winning, then a bet will not placed (assuming the decision threshold is greater than 10%, which, it is).</p>
<p>Moving on, the second strategy isn't concerned with the sportsbook's behavior at all; merely concerned with the strength of it's (the model's) own predictions. </p>
<p>Let's examine both strategies, and see how they played out.   </p>
<h4>Strategy 1</h4>
<p>To be implemented, the first strategy required a data acquisition step first. Historic sportsbook odds needed to be collected. This is for the purpose of compairing the probability of a win assigned by a sportsbook to the probability of a win assigned by the model.  </p>
<p>In boxing, the bookmaker's odds come structured into a form which is referred to as the <a href="https://en.wikipedia.org/wiki/Odds#Moneyline_odds">moneyline</a>. The moneyline is a little confusing at first. Generally, one fighter who considered favored to win is assigned a negative number. The other fighter is considered the underdog, and is assigned a positive number. </p>
<p>The best way to remember how to read the moneyline is to always start with the image of a one-hundred dollar bill in your mind.  </p>
<ul>
<li>A negative number shows how much money you need to bet to win a profit of $100.  </li>
<li>A positive number shows how much profit a winning wager of $100 would yield.</li>
</ul>
<p>So if the moneyline has Boxer A at -130, we know that Boxer A is expected to win. Further, you know you'd have to place a $130 bet on this fighter to win $100.<br>
For Boxer B, the moneyline might have them set at +110. This mean Boxer B is the underdog, and if you placed a $100 bet on this fighter, you'd win $110.  </p>
<p>The actual numeric values (-130 and +110, on this example above), can be converted to what are referred to as <a href="https://www.sbo.net/strategy/implied-probability/">implied probabilities</a> (more about these in a second).</p>
<p>Implied probability =   ( - ( 'negative' moneyline value ) ) / ( - ( 'negative' moneyline value ) ) + 100<br>
and<br>
Implied probability =   100 / ( 'positive' moneyline value + 100 )  </p>
<p>Thus, -130 is converted to %56.5, and +110 is converted to %50.  </p>
<p>But what is an implied probability anyway?</p>
<p>Implied probability is our usual notion of probability which has actually been modified by what is called either <a href="https://en.wikipedia.org/wiki/Vigorish">vigorish, or juice</a>. Both of these terms refer to a built-in modification, by the bookmaker, of the true odds. The modification shifts the moneyline is such a way that the sportsbooks can never ultimately lose money. Usually, the vig amounts to 20 points. It's basically the casino's cut. Fortunately, it's easy to remove the vigorish using this simple formula:  </p>
<p>Take one of your implied probability. Divide it by the sum of both of your implied probabilities.  </p>
<p>For example:  </p>
<p>Actual probability = Implied probability A / (Implied probability A + Implied probability B)  </p>
<p>With the math settled, I began searching for a set of historic moneylines for records which I could use in my test set. Using a variety of sources (including laborious searching of the Wayback Machine), I collected a set of 690 moneylines. </p><script type= "text/javascript">
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    config: ['MMLorHTML.js']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    displayAlign: 'center'," +
            "    displayIndent: '0em'," +
            "    showMathMenu: true," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true," +
            "        preview: 'TeX'," +
            "    }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
</script>
 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/deep-learning-for-sport-wagering-part-3-of-3.html">
          <i class="icon-comment"></i> Comment </a>
	<hr />
      </div>
      
    </div>
    

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/deep-learning-for-sport-wagering-part-2-of-3.html"><h1>Deep Learning for Sport Wagering Part 2 of 3</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Sat 16 September 2017 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/deep-learning.html">deep learning</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/deep-learning.html">deep learning</a> <a href="http://www.mattobrien.me/tag/sport.html">sport</a> <a href="http://www.mattobrien.me/tag/wagering.html">wagering</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>Modeling</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/deep-learning-for-sport-wagering-part-2-of-3.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/deep-learning-for-sport-wagering-part-1-of-3.html"><h1>Deep Learning for Sport Wagering Part 1 of 3</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Fri 15 September 2017 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/deep-learning.html">deep learning</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/deep-learning.html">deep learning</a> <a href="http://www.mattobrien.me/tag/sport.html">sport</a> <a href="http://www.mattobrien.me/tag/wagering.html">wagering</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>Characteristics of the dataset</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/deep-learning-for-sport-wagering-part-1-of-3.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/the-80-best-boxers-a-career-viewer.html"><h1>The 80 Best Boxers; A Career Viewer</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Sun 05 June 2016 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/sport.html">sport</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/sport-science.html">sport science</a> <a href="http://www.mattobrien.me/tag/boxing.html">boxing</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>A visualization of the careers of the top 80 boxers in the last 80 years</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/the-80-best-boxers-a-career-viewer.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/a-nation-by-nation-look-at-knockouts-in-boxing.html"><h1>A nation by nation look at knockouts in boxing</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Tue 31 May 2016 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/sport.html">sport</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/sport-science.html">sport science</a> <a href="http://www.mattobrien.me/tag/visualization.html">visualization</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>Aggregating boxing outcomes by nation of origin</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/a-nation-by-nation-look-at-knockouts-in-boxing.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/an-analysis-of-stoppages-in-boxing.html"><h1>An analysis of stoppages in boxing</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Wed 18 May 2016 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/sport.html">sport</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/sport-science.html">sport science</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>Some perspectives on knockouts</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/an-analysis-of-stoppages-in-boxing.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/a-csv-defined-shiny-structure.html"><h1>a csv defined Shiny structure</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Sat 16 April 2016 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/visualization.html">visualization</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/visualization.html">visualization</a> <a href="http://www.mattobrien.me/tag/r.html">R</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>automatically generate a Shiny visualization in R</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/a-csv-defined-shiny-structure.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/mike-tysons-punchout-as-a-neo4j-graph.html"><h1>Mike Tyson's Punchout! as a Neo4j graph</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Wed 16 March 2016 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/visualization.html">visualization</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/visualization.html">visualization</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>a simple example of a graph database</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/mike-tysons-punchout-as-a-neo4j-graph.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/measurability-proof.html"><h1>Measurability Proof</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Thu 28 January 2016 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/math.html">math</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/in-progress.html">in progress</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>Proof by induction</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/measurability-proof.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      

 
        



    <div class='row-fluid'>
      <div class='article-title span9'> 
        <a href="http://www.mattobrien.me/functions-of-unbounded-variation.html"><h1>Functions of unbounded variation</h1></a>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span2">
<p>Wed 11 November 2015 </p>

<p style="text-align: left;">
Filed under <a href="http://www.mattobrien.me/category/math.html">math</a>
</p>
<p style="text-align: left;">
 
    Tags <a href="http://www.mattobrien.me/tag/math.html">math</a> </p>
<p>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="digitizerSF">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</p>
      </div>
      <div class="summary span8">
	<p>Proof regarding a function of bounded variation</p> 
	<a class="btn btn-mini xsmall" href="http://www.mattobrien.me/functions-of-unbounded-variation.html">
          <i class="icon-plus-sign"></i> Read More </a>
	<hr />
      </div>
      
    </div>
      
<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="http://www.mattobrien.me/index.html">1</a></li>
    <li class=""><a href="http://www.mattobrien.me/index2.html">2</a></li>
    <li class=""><a href="http://www.mattobrien.me/index3.html">3</a></li>

    <li class="next"><a href="http://www.mattobrien.me/index2.html">Next &rarr;</a></li>

</ul>
</div>
 
  
        </div>
        
        
    </div>     </div> </div>

<!--footer-->
<div class="container">
  <div class="well" style="background-color: #E9EFF6">
    <div id="blog-footer">
      <div class="row-fluid">
	<div class="social span2" align="center" id="socialist">
	  <ul class="nav nav-list">
	    <li class="nav-header">
	      Social
	    </li>
	    <li><a href="https://github.com/mobbSF"><i class="icon-GitHub" style="color: #1f334b"></i>GitHub</a></li>
	    <li><a href="http://www.linkedin.com/pub/matt-o-brien/5/833/91b/"><i class="icon-LinkedIn" style="color: #1f334b"></i>LinkedIn</a></li>
	    <li><a href="http://www.mattobrien.mefeeds/all.atom.xml"><i class="icon-RSS" style="color: #1f334b"></i>RSS</a></li>

	  </ul>
	</div>
        <div class="links span2" align="center">
          <ul class="nav nav-list">
            <li class="nav-header"> 
              Links
            </li>
            
            <li><a href="http://spencerboucher.com/">Spencer Boucher</a></li>
            <li><a href="http://trevorstephens.com/">Trevor Stephens</a></li>
          </ul>
        </div>
	<div class="site-nav span2" align="center">
          <ul class="nav nav-list" id="site-links">
            <li class="nav-header"> 
              Site
            </li>
            <li><a href="http://www.mattobrien.me"><i class="icon-home" style="color: #1f334b">
                </i>Home</a></li>
            <li><a href="http://www.mattobrien.me/archives.html"><i class="icon-list" style="color: #1f334b">
                </i>Archives</a></li>
	    <li><a href="http://www.mattobrien.me/tags.html"><i class="icon-tags" style="color: #1f334b">
                </i>Tags</a></li>
	    
            <li><a href="http://www.mattobrien.me/" rel="alternate">
                <i class="icon-rss-sign" style="color: #1f334b"></i>
                Atom Feed</a></li>
	  </ul>

        </div>

      </div> <!--end of fluid row-->
    </div> <!--end of blog-footer-->
    <hr />
    <p align="center"><a href="http://www.mattobrien.me">Matt O'Brien (dot) Me</a>
      &copy; Matt O'Brien
    Powered by <a href="github.com/getpelican/pelican">Pelican</a> and
        <a href="https://twitter.github.com/bootstrap">Twitter Bootstrap</a>. 
        Icons by <a href="http://fortawesome.github.com/Font-Awesome">Font Awesome</a> and 
        <a href="http://gregoryloucas.github.com/Font-Awesome-More">Font Awesome More</a></p>

  </div> <!--end of well -->
</div> <!--end of container -->

<!--/footer-->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>


<script>var _gaq=[['_setAccount','UA-51519407-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>

</body>
</html>